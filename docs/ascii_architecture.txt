┌─────────────────────────────────────────────────────────────────┐
│                         USER INTERFACE                          │
│                    (Streamlit - Port 8501)                      │
└───────────────────────────┬─────────────────────────────────────┘
                            │
                            │ HTTP/HTTPS
                            │
┌───────────────────────────▼─────────────────────────────────────┐
│                    PRESENTATION LAYER                           │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐         │
│  │   Chat UI    │  │   Sources    │  │   Feedback   │         │
│  │   Interface  │  │   Display    │  │   Buttons    │         │
│  └──────────────┘  └──────────────┘  └──────────────┘         │
│              Streamlit + Python + Custom CSS                    │
└───────────────────────────┬─────────────────────────────────────┘
                            │
                            │ REST API
                            │
┌───────────────────────────▼─────────────────────────────────────┐
│                    APPLICATION LAYER                            │
│                  (FastAPI + Uvicorn - Port 8000)               │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │              API ENDPOINTS                                │  │
│  │  POST /chat                                               │  │
│  │  POST /upload                                             │  │
│  │  POST /feedback                                           │  │
│  │  GET /stats                                               │  │
│  │  DELETE /clear_memory/{session_id}                        │  │
│  └──────────────────────────────────────────────────────────┘  │
└───────────────────────────┬─────────────────────────────────────┘
                            │
        ┌───────────────────┼───────────────────┐
        │                   │                   │
        ▼                   ▼                   ▼
┌──────────────────┐  ┌─────────────────────┐  ┌────────────────┐
│  RAG PIPELINE    │  │   AI SERVICE        │  │  VECTOR STORE  │
│                  │  │                     │  │                │
│ Query Rewriter   │  │  Google Gemini      │  │   ChromaDB     │
│ Hybrid Retriever │  │  2.5 Pro (Flash)    │  │                │
│ Cross Encoder    │  │                     │  │  HuggingFace   │
│ QA Generator     │  │  HuggingFace Models │  │  Embeddings    │
│ Memory Manager   │  │  (Flan-T5)          │  │  (MiniLM-L6)   │
│                  │  │                     │  │                │
└──────────────────┘  └─────────────────────┘  └────────────────┘
        │                                              │
        │                                              │
        └──────────────────┬───────────────────────────┘
                           │
                           ▼
                ┌────────────────────┐
                │   DATA SOURCES     │
                │                    │
                │  ┌──────────────┐  │
                │  │  CSV Files   │  │
                │  │  (10 files)  │  │
                │  └──────────────┘  │
                │  ┌──────────────┐  │
                │  │  PDF Files   │  │
                │  │ (Documents)  │  │
                │  └──────────────┘  │
                │                    │
                └────────────────────┘


COMPONENT INTERACTIONS:

User Query Flow:
┌─────┐    ┌──────────┐    ┌─────────┐    ┌─────────┐    ┌─────┐
│User │───▶│Streamlit │───▶│ FastAPI │───▶│   RAG   │───▶│ LLM │
└─────┘    └──────────┘    └─────────┘    └─────────┘    └─────┘
              │                  │              │             │
              │                  │              ▼             │
              │                  │         ┌─────────┐        │
              │                  │         │ Chroma  │        │
              │                  │         │   DB    │        │
              │                  │         └─────────┘        │
              │                  │              │             │
              │                  ▼              ▼             ▼
              └──────────────Answer + Sources + Citations────┘

Document Ingestion Flow:
┌───────┐    ┌──────────┐    ┌──────────┐    ┌─────────┐
│ Admin │───▶│ Preload  │───▶│ Doc      │───▶│ Chroma  │
│       │    │ Script   │    │ Pipeline │    │   DB    │
└───────┘    └──────────┘    └──────────┘    └─────────┘
                                  │
                                  ├─ Parse CSV
                                  ├─ Parse PDF
                                  ├─ Chunk Text
                                  ├─ Generate Embeddings
                                  └─ Store Vectors
